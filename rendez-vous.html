<form action="https://formsubmit.co/ad769070@gmail.com" method="POST" id="appointmentForm">
    <!-- Emp√™che le Captcha et la redirection -->
    <input type="hidden" name="_captcha" value="false">
    <input type="hidden" name="_next" value="">

    <div class="form-row">
        <div class="form-group">
            <label for="firstName">üë§ Pr√©nom *</label>
            <input type="text" id="firstName" name="Pr√©nom" required placeholder="Votre pr√©nom">
        </div>
        <div class="form-group">
            <label for="lastName">Nom *</label>
            <input type="text" id="lastName" name="Nom" required placeholder="Votre nom">
        </div>
    </div>
    
    <div class="form-row">
        <div class="form-group">
            <label for="email">üìß Email *</label>
            <input type="email" id="email" name="Email" required placeholder="votre@email.com">
        </div>
        <div class="form-group">
            <label for="phone">üìû T√©l√©phone *</label>
            <input type="text" id="phone" name="T√©l√©phone" placeholder="+223 75 02 59 59">
        </div>
    </div>
    
    <div class="form-group">
        <label for="service">Service souhait√© *</label>
        <select id="service" name="Service souhait√©" required>
            <option value="">S√©lectionnez un service</option>
            <option value="Physioth√©rapie g√©n√©rale">Physioth√©rapie g√©n√©rale</option>
            <option value="Physioth√©rapie G√©riatrique">Physioth√©rapie G√©riatrique</option>
            <option value="Physioth√©rapie p√©diatrique">Physioth√©rapie p√©diatrique</option>
            <option value="Physioth√©rapie neurologique">Physioth√©rapie neurologique</option>
            <option value="Physioth√©rapie respiratoire">Physioth√©rapie respiratoire</option>
            <option value="Physioth√©rapie obst√©tricale">Physioth√©rapie obst√©tricale</option>
            <option value="Physioth√©rapie sportive">Physioth√©rapie sportive</option>
            <option value="Activit√© physique adapt√©e">Activit√© physique adapt√©e</option>
            <option value="Massage th√©rapeutique">Massage th√©rapeutique</option>
            <option value="Consultation g√©n√©rale">Consultation g√©n√©rale</option>
        </select>
    </div>
    
    <div class="form-row">
        <div class="form-group">
            <label for="date">üìÖ Date souhait√©e *</label>
            <input type="date" id="date" name="Date souhait√©e" required>
        </div>
        <div class="form-group">
            <label for="time">üïê Heure souhait√©e *</label>
            <select id="time" name="Heure souhait√©e" required>
                <option value="">S√©lectionnez une heure</option>
                <option value="08:00">08:00</option>
                <option value="08:30">08:30</option>
                <option value="09:00">09:00</option>
                <option value="09:30">09:30</option>
                <option value="10:00">10:00</option>
                <option value="10:30">10:30</option>
                <option value="11:00">11:00</option>
                <option value="11:30">11:30</option>
                <option value="14:00">14:00</option>
                <option value="14:30">14:30</option>
                <option value="15:00">15:00</option>
                <option value="15:30">15:30</option>
                <option value="16:00">16:00</option>
                <option value="16:30">16:30</option>
                <option value="17:00">17:00</option>
                <option value="17:30">17:30</option>
            </select>
        </div>
    </div>
    
    <div class="form-group">
        <label for="urgency">Niveau d'urgence</label>
        <select id="urgency" name="Urgence">
            <option value="normal">Normal</option>
            <option value="urgent">Urgent</option>
            <option value="tres-urgent">Tr√®s urgent</option>
        </select>
    </div>
    
    <div class="form-group">
        <label for="message">üí¨ Message (optionnel)</label>
        <textarea id="message" name="Message" rows="4" placeholder="D√©crivez bri√®vement votre probl√®me, vos sympt√¥mes ou vos attentes..."></textarea>
    </div>
    
    <button type="submit" class="btn-primary btn-full">Demander un rendez-vous</button>
    
    <p class="form-note">* Champs obligatoires. Nous vous contacterons sous 24h pour confirmer votre rendez-vous.</p>

    <!-- ‚úÖ Message de validation -->
    <p id="successMessage" style="display:none; color:green; font-weight:bold; margin-top:10px;">
        ‚úÖ Votre demande a bien √©t√© envoy√©e. Merci !
    </p>
</form>

<script>
  const form = document.getElementById('appointmentForm');
  const successMessage = document.getElementById('successMessage');

  form.addEventListener('submit', async function (e) {
    e.preventDefault(); // Emp√™che le rechargement

    const formData = new FormData(form);

    try {
      const response = await fetch(form.action, {
        method: 'POST',
        body: formData,
        headers: { 'Accept': 'application/json' }
      });

      if (response.ok) {
        form.reset();
        successMessage.style.display = 'block';
        successMessage.scrollIntoView({ behavior: 'smooth' });
      } else {
        alert("Une erreur s'est produite. Veuillez r√©essayer.");
      }
    } catch (error) {
      alert("Erreur de connexion. V√©rifiez votre r√©seau.");
    }
  });
</script>
